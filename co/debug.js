if(window.app){var uuid=0,xhr={};window.addEventListener("message",function(e){var n=JSON.parse(e.data),r=n.type;if("ajax"==r){var a=n.token,t=xhr[a].success,i=(xhr[a].error,n.data),o=xhr[a].dataType;"json"==o?app.isFunction(t)&&(i=JSON.parse(i),t.call(null,{},i)):app.isFunction(t)&&t.call(null,{},i)}},!1);var GetQueryString=function(e){var n=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),r=window.location.search.substr(1).match(n);return null!=r?r[2]:null},getPageDir=function(){var e=document.createElement("div");e.innerHTML='<a href="./"></a>';var n=e.firstChild.href;return e=null,n};app.executeNativeJS=function(){var e=Array.prototype.slice.call(arguments,1);if("window"==arguments[0][0]&&"openWindow"==arguments[0][1]){var n=e[0],r=getPageDir()+e[2],a="openWindow('"+n+"','"+r+"')";window.parent.postMessage(a,"*")}else if("window"==arguments[0][0]&&"closeSelf"==arguments[0][1]){var t=GetQueryString("pageId"),a="closeWindow('"+n+"','"+t+"')";window.parent.postMessage(a,"*")}else if("window"==arguments[0][0]&&"openPopover"==arguments[0][1]){var i=e[0],r=getPageDir()+e[2],o=JSON.stringify(e[3]),n=GetQueryString("pageId"),a="openPopover('"+i+"','"+r+"','"+o+"','"+n+"')";window.parent.postMessage(a,"*")}else if("window"==arguments[0][0]&&"closePopover"==arguments[0][1]){var i=e[0],t=GetQueryString("pageId"),a="closePopover('"+i+"','"+t+"')";window.parent.postMessage(a,"*")}else if("window"==arguments[0][0]&&"bringPopoverToFront"==arguments[0][1]){var i=e[0],a="openPopover('"+i+"')";window.parent.postMessage(a,"*")}else if("window"==arguments[0][0]&&"setSlideLayout"==arguments[0][1]){var s=JSON.stringify(e[0]),a="setSlideLayout('"+s+"')";window.parent.postMessage(a,"*")}else if("window"==arguments[0][0]&&"openSlidePane"==arguments[0][1]){var s=JSON.stringify(e[0]),a="openSlidePane('"+s+"')";window.parent.postMessage(a,"*")}else if("window"==arguments[0][0]&&"closeSlidePane"==arguments[0][1]){var a="closeSlidePane()";window.parent.postMessage(a,"*")}else if("httpManager"==arguments[0][0]&&"sendRequest"==arguments[0][1]){var g=JSON.stringify(e[0]),t=GetQueryString("pageId"),u=uuid++;xhr[u]={success:e[1],error:e[2],dataType:e[0].dataType};var a="sendRequest('"+g+"','"+t+"','"+u+"')";window.parent.postMessage(a,"*")}}}if(window.Dom){var on=$.fn.on;$.fn.on=function(e,n,r,a,t){return"tab"==e&&(e="click"),on.call(this,e,n,r,a,t)};var off=$.fn.off;$.fn.off=function(e,n,r){return"tab"==e&&(e="click"),off.call(this,e,n,r)};var trigger=$.fn.trigger;$.fn.trigger=function(e,n){return"tab"==e&&(e="click"),trigger.call(this,e,n)};var one=$.fn.one;$.fn.one=function(e,n,r,a){return"tab"==e&&(e="click"),one.call(this,e,n,r,a)}}