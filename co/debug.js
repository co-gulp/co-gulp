!function(e){if(window.app){var n=0,a={};window.addEventListener("message",function(e){var n=(e.origin,JSON.parse(e.data)),r=n.type;if("ajax"==r){var t=n.token,i=a[t].success,o=(a[t].error,n.data),s=a[t].dataType;"json"==s?app.isFunction(i)&&(o=JSON.parse(o),i.call(null,{},o)):app.isFunction(i)&&i.call(null,{},o)}},!1);var r=function(e){var n=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),a=window.location.search.substr(1).match(n);return null!=a?a[2]:null},t=function(){var e=document.createElement("div");e.innerHTML='<a href="./"></a>';var n=e.firstChild.href;return e=null,n},i=function(e){window.parent.postMessage(e,"*")};app.executeNativeJS=function(){var e=Array.prototype.slice.call(arguments,1);if("window"==arguments[0][0]&&"openWindow"==arguments[0][1]){var o=e[0],s=t()+e[2],l="openWindow('"+o+"','"+s+"')";i(l)}else if("window"==arguments[0][0]&&"closeSelf"==arguments[0][1]){var u=r("pageId"),l="closeWindow('"+o+"','"+u+"')";i(l)}else if("window"==arguments[0][0]&&"openPopover"==arguments[0][1]){var c=e[0],s=t()+e[2],p=JSON.stringify(e[3]),o=r("pageId"),l="openPopover('"+c+"','"+s+"','"+p+"','"+o+"')";i(l)}else if("window"==arguments[0][0]&&"closePopover"==arguments[0][1]){var c=e[0],u=r("pageId"),l="closePopover('"+c+"','"+u+"')";i(l)}else if("window"==arguments[0][0]&&"bringPopoverToFront"==arguments[0][1]){var c=e[0],l="openPopover('"+c+"')";i(l)}else if("window"==arguments[0][0]&&"setSlideLayout"==arguments[0][1]){var f=JSON.stringify(e[0]),l="setSlideLayout('"+f+"')";i(l)}else if("window"==arguments[0][0]&&"openSlidePane"==arguments[0][1]){var f=JSON.stringify(e[0]),l="openSlidePane('"+f+"')";i(l)}else if("window"==arguments[0][0]&&"closeSlidePane"==arguments[0][1]){var l="closeSlidePane()";i(l)}else if("httpManager"==arguments[0][0]&&"sendRequest"==arguments[0][1]){var d=e[0],g=d.body;g&&g.json&&app.isString(g.json)&&(g.json=JSON.parse(g.json)),d=JSON.stringify(d);var u=r("pageId"),v=n++;a[v]={success:e[1],error:e[2],dataType:e[0].dataType};var l="sendRequest('"+d+"','"+u+"','"+v+"')";i(l)}}}if(window.Dom){var o=$.fn.on;$.fn.on=function(e,n,a,r,t){return"tap"==e&&(e="click"),o.call(this,e,n,a,r,t)};var s=$.fn.off;$.fn.off=function(e,n,a){return"tap"==e&&(e="click"),s.call(this,e,n,a)};var l=$.fn.trigger;$.fn.trigger=function(e,n){return"tap"==e&&(e="click"),l.call(this,e,n)};var u=$.fn.one;$.fn.one=function(e,n,a,r){return"tap"==e&&(e="click"),u.call(this,e,n,a,r)}}}(this);